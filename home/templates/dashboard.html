{% extends "master.html" %}
{% load static %}

{% block title %}
    KFH - Dashboard
{% endblock %}

{% block content %}
    <h2>DASHBOARD</h2>

    <p>
       Welcome to Kuwait Finance House dashboard :)
    </p>

    <table class="fuze-table" id="pending-table"></table>
    {{ pendingsAsJson|json_script:"mydata" }}
    <script src="{% static 'fuze_tables.js' %}"></script>
    <script>
    const jsonData = JSON.parse(document.getElementById("mydata").textContent);
    // Make table rows clickable
    /*
    var table = document.getElementById("pendingdocument-table");
    for (var i = 0, row; i < table.rows.length; i++) {
        const row_id = table.rows[i].id;
        table.rows[i].addEventListener("click", () => {
            // When a table row is clicked, go to details page with that employee ID
            window.location.href = `detials/${row_id}`;
        })
    }
     */
    pending_table = new FuzeTable("pending-table",
        {
            title: "Pending"
            ,json_data: JSON.parse(jsonData)
        });
    </script>
{% endblock %}